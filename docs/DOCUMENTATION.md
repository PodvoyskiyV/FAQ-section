# Техническая документация - FAQ Component KapitalBank

## Обзор

FAQ Component - интерактивный аккордеон с поддержкой вложенных подвопросов для сайта KapitalBank. Компонент полностью адаптивен, оптимизирован и соответствует стандартам доступности.

## Цветовая палитра

**⚠️ ВАЖНО: Используемые цвета являются основными и не должны изменяться без согласования.**

### Основные цвета

| Цвет | HEX | Использование |
|------|-----|---------------|
| Черный | `#101010` | Текст вопросов, ответов, стрелки в иконках |
| Белый | `#FFFFFF` | Фон страницы, фон иконки при hover/active |
| Серый светлый | `#F3F4F6` | Фон активного блока, границы, фон иконки по умолчанию |
| Серый | `#f5f5f5` | Hover состояние кнопок |

### Правила использования

- Не изменяйте указанные цвета без согласования с дизайнером
- Все цвета должны соответствовать корпоративному стилю KapitalBank
- При добавлении новых элементов используйте существующую палитру

## Технические характеристики

### Шрифты

- **Семейство:** Roboto (Google Fonts)
- **Веса:** 400 (Regular), 500 (Medium), 600 (SemiBold), 700 (Bold)

### Размеры

**Desktop:**
- Ширина секции: 100% (динамическая)
- Padding: `40px` сверху/снизу, `150px` слева/справа
- Высота кнопки вопроса: `80px`
- Размер шрифта вопроса: `24px`
- Размер шрифта ответа: `18px`
- Радиус скругления: `16px`

**Mobile (≤768px):**
- Padding: `24px` по периметру
- Высота кнопки вопроса: `72px`
- Размер шрифта вопроса: `22px`
- Размер шрифта ответа: `16px`

**Small Mobile (≤480px):**
- Padding: `24px` по периметру
- Размер заголовка: `24px`

### Анимации

- Раскрытие/закрытие ответов: `0.3s ease-in-out`
- Вращение иконки: `0.3s ease`
- Смена фона: `0.3s ease`
- Плавное появление текста: `fadeIn 0.3s ease`

## Структура компонента

### HTML структура

```html
.faq-section
  └── .faq-title
  └── .faq-list
      └── .faq-item
          ├── .faq-question (button)
          │   ├── .question-text
          │   └── .faq-icon
          └── .faq-answer
              ├── .faq-subquestions (опционально)
              │   └── .faq-subitem
              │       ├── .faq-subquestion (button)
              │       └── .faq-subanswer
              └── p (прямой ответ, опционально)
```

### CSS классы

**Основные:**
- `.faq-section` - контейнер секции
- `.faq-item` - контейнер вопроса
- `.faq-question` - кнопка вопроса
- `.faq-answer` - контейнер ответа
- `.faq-subquestions` - контейнер подвопросов
- `.faq-subitem` - контейнер подвопроса
- `.faq-subquestion` - кнопка подвопроса
- `.faq-subanswer` - контейнер ответа на подвопрос

**Состояния:**
- `.active` - активный (открытый) элемент
- `.hide-border` - скрытая граница

### JavaScript функции

- `updateBorders()` - обновление видимости границ между элементами
- `handleQuestionClick()` - обработка кликов по вопросам
- `handleKeydown()` - обработка нажатий клавиш

## Состояния компонентов

### Основной вопрос (.faq-item)

**Закрыт (по умолчанию):**
- Фон: прозрачный
- Кнопка: прозрачный фон, серый при hover
- Иконка: серая (#F3F4F6), стрелка вниз
- Граница снизу: видима

**Открыт (.faq-item.active):**
- Фон всего блока: серый (#F3F4F6)
- Кнопка: прозрачный фон
- Иконка: белый фон, стрелка повернута на 180°
- Граница снизу: скрыта у предыдущего элемента

### Подвопрос (.faq-subitem)

**Закрыт:**
- Фон: прозрачный
- Иконка: серая (#F3F4F6), стрелка вниз

**Открыт (.faq-subitem.active):**
- Фон: серый (#F3F4F6)
- Иконка: серая (#F3F4F6), стрелка повернута на 180°

## Особенности реализации

### Границы между элементами

Границы управляются через JavaScript класс `.hide-border`. При открытии вопроса граница у предыдущего элемента скрывается, при закрытии - возвращается.

**Мобильная версия:**
- Используется CSS правило `.faq-item:not(.hide-border)::after { opacity: 1 !important; }` для принудительного показа границ
- Обновление границ происходит с задержками (50ms, 200ms) для гарантированного обновления DOM

### Адаптивность

- Desktop: динамическая ширина (100% экрана)
- Tablet: 768px - 1200px (переходная зона)
- Mobile: 480px - 768px
- Small Mobile: < 480px

### Доступность

- ARIA атрибуты: `aria-expanded` для индикации состояния
- Поддержка клавиатуры: Enter и Space для открытия/закрытия
- Семантическая разметка: использование `<button>` для интерактивных элементов

## Файловая структура

```
KapitalBank/
├── index.html              # HTML структура
├── src/
│   ├── styles.css         # Все стили (Desktop + Mobile)
│   └── script.js          # JavaScript логика
└── docs/                   # Документация
```

## Производительность

- Минимум зависимостей (только Google Fonts)
- Оптимизированный CSS (объединенные селекторы)
- Эффективный JavaScript (универсальные функции)
- Плавные анимации через CSS transitions

## Поддержка браузеров

- Chrome (последние версии)
- Firefox (последние версии)
- Safari (последние версии)
- Edge (последние версии)
- Мобильные браузеры (iOS Safari, Chrome Mobile)

---

*Последнее обновление: 2024*
