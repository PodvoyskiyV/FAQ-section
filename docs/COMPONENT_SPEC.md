# Спецификация компонента FAQ

## Обзор

Компонент FAQ представляет собой интерактивный аккордеон с поддержкой вложенных подвопросов. Позволяет пользователям просматривать вопросы и ответы в структурированном виде.

## Структура компонента

### Основные элементы

```
.faq-section
  └── .faq-title
  └── .faq-list
      └── .faq-item (множество)
          ├── .faq-question (кнопка)
          │   ├── .question-text
          │   └── .faq-icon
          └── .faq-answer
              ├── .faq-subquestions (опционально)
              │   └── .faq-subitem (множество)
              │       ├── .faq-subquestion (кнопка)
              │       │   ├── .subquestion-text
              │       │   └── .faq-icon.faq-icon-small
              │       └── .faq-subanswer
              │           └── p
              └── p (прямой ответ, опционально)
```

## Состояния компонентов

### 1. Основной вопрос (.faq-item)

#### Состояние: Закрыт (по умолчанию)
- **Визуал:**
  - Фон: прозрачный
  - Кнопка: прозрачный фон (Desktop), прозрачный фон (Mobile - явно сброшен)
  - Иконка: серая (#F3F4F6), стрелка вниз
  - Граница снизу: видима (#F3F4F6)
- **Поведение:**
  - Подвопросы скрыты (opacity: 0, max-height: 0)
  - Ответ скрыт (grid-template-rows: 0fr)
- **ARIA:** `aria-expanded="false"`
- **Особенности Mobile:**
  - Фон кнопки явно сброшен к прозрачному после закрытия
  - Фон иконки возвращается к серому (#F3F4F6) после закрытия

#### Состояние: Открыт (.faq-item.active)
- **Визуал:**
  - Фон всего блока: серый (#F3F4F6)
  - Кнопка: прозрачный фон
  - Иконка: белый фон, стрелка повернута на 180°
  - Граница снизу: скрыта у предыдущего элемента
- **Поведение:**
  - Подвопросы видны (opacity: 1, max-height: 5000px)
  - Ответ виден (grid-template-rows: 1fr)
- **ARIA:** `aria-expanded="true"`

#### Состояние: Hover
- **Визуал:**
  - Кнопка: серый фон (#f5f5f5)
  - Текст: остается черным (#101010)
  - Иконка: белый фон (для основных вопросов)
- **Поведение:**
  - Граница предыдущего элемента скрывается

### 2. Подвопрос (.faq-subitem)

#### Состояние: Закрыт (по умолчанию)
- **Визуал:**
  - Фон: прозрачный
  - Кнопка: белый фон, серый при hover
  - Иконка: всегда серая (#F3F4F6), стрелка вниз
- **Поведение:**
  - Ответ скрыт (grid-template-rows: 0fr)
- **ARIA:** `aria-expanded="false"`

#### Состояние: Открыт (.faq-subitem.active)
- **Визуал:**
  - Фон всего блока: серый (#F3F4F6)
  - Иконка: серая, стрелка повернута на 180°
- **Поведение:**
  - Ответ виден (grid-template-rows: 1fr)
- **ARIA:** `aria-expanded="true"`

## Анимации

### Открытие/закрытие основного вопроса
- **Длительность:** 0.3s
- **Тип:** ease-in-out
- **Свойства:** grid-template-rows, opacity, max-height

### Открытие/закрытие подвопроса
- **Длительность:** 0.3s
- **Тип:** ease-in-out
- **Свойства:** grid-template-rows, margin-bottom (для текста)

### Вращение иконки
- **Длительность:** 0.3s
- **Тип:** ease
- **Свойства:** transform (rotate 180deg)

### Появление подвопросов
- **Длительность:** 0.3s
- **Тип:** ease-in-out
- **Свойства:** opacity, max-height

## Интерактивность

### События мыши
- **Click:** Переключение состояния открыт/закрыт
- **Hover:** Изменение фона кнопки, скрытие границы предыдущего элемента
- **Mouseenter/Mouseleave:** Обновление границ

### События клавиатуры
- **Enter:** Переключение состояния
- **Space:** Переключение состояния
- **Tab:** Навигация между элементами

### Обработка событий
- Клик по подвопросу не закрывает основной вопрос (stopPropagation)
- Несколько вопросов могут быть открыты одновременно
- Границы обновляются динамически при hover/active

## Адаптивность

### Desktop (1200px+)
- Высота кнопки: min-height 80px
- Размер шрифта вопроса: 24px
- Размер шрифта ответа: 18px
- Padding ответа: 48px слева/справа, 24px снизу

### Tablet (768px - 1200px)
- Используются стили Desktop

### Mobile (480px - 768px)
- Высота кнопки: min-height 72px
- Размер шрифта вопроса: 22px
- Размер шрифта ответа: 16px
- Padding ответа: 12px справа, 20px слева, 12px снизу

### Small Mobile (< 480px)
- Аналогично Mobile с дополнительными корректировками padding

## Доступность

### ARIA атрибуты
- `aria-expanded`: указывает состояние открыт/закрыт
- Семантические HTML теги: `<button>`, `<section>`

### Навигация с клавиатуры
- Все интерактивные элементы доступны через Tab
- Enter/Space активируют элементы
- Focus визуально обозначен

### Семантика
- Использование правильных HTML5 тегов
- Логическая структура заголовков
- Описательные классы

## Производительность

### Оптимизации
- Объединенные CSS селекторы (меньше дублирования)
- Универсальные JavaScript функции
- Минимальное количество DOM операций
- CSS Grid для плавных анимаций

### Размеры файлов
- CSS: ~356 строк (оптимизировано)
- JavaScript: ~62 строки (оптимизировано)
- HTML: ~233 строки

---

*Версия спецификации: 1.0*

