# Спецификация компонента FAQ - KapitalBank

## Обзор

Компонент FAQ - интерактивный аккордеон с поддержкой вложенных подвопросов. Позволяет пользователям просматривать вопросы и ответы в структурированном виде с плавными анимациями и полной адаптивностью.

## Структура компонента

### HTML структура

```
.faq-section
  └── .faq-title
  └── .faq-list
      └── .faq-item (множество)
          ├── .faq-question (button)
          │   ├── .question-text
          │   └── .faq-icon
          └── .faq-answer
              ├── .faq-subquestions (опционально)
              │   └── .faq-subitem (множество)
              │       ├── .faq-subquestion (button)
              │       │   ├── .subquestion-text
              │       │   └── .faq-icon.faq-icon-small
              │       └── .faq-subanswer
              │           └── p
              └── p (прямой ответ, опционально)
```

## Состояния компонентов

### Основной вопрос (.faq-item)

#### Закрыт (по умолчанию)

**Визуал:**
- Фон: прозрачный
- Кнопка: прозрачный фон
- Иконка: серая (#F3F4F6), стрелка вниз
- Граница снизу: видима (#F3F4F6) с отступами 16px

**Поведение:**
- Подвопросы скрыты (opacity: 0, max-height: 0)
- Ответ скрыт (grid-template-rows: 0fr)

**ARIA:** `aria-expanded="false"`

**Особенности Mobile:**
- Фон кнопки явно сброшен к прозрачному
- Фон иконки возвращается к серому (#F3F4F6) после закрытия

#### Открыт (.faq-item.active)

**Визуал:**
- Фон всего блока: серый (#F3F4F6)
- Кнопка: прозрачный фон
- Иконка: белый фон, стрелка повернута на 180°
- Граница снизу: скрыта у предыдущего элемента

**Поведение:**
- Подвопросы видны (opacity: 1, max-height: 5000px)
- Ответ виден (grid-template-rows: 1fr)

**ARIA:** `aria-expanded="true"`

#### Hover

**Визуал:**
- Кнопка: серый фон (#f5f5f5)
- Текст: остается черным (#101010)
- Иконка: белый фон (для основных вопросов)

**Поведение:**
- Граница предыдущего элемента скрывается

### Подвопрос (.faq-subitem)

#### Закрыт (по умолчанию)

**Визуал:**
- Фон: прозрачный
- Кнопка: прозрачный фон
- Иконка: всегда серая (#F3F4F6), стрелка вниз

**Поведение:**
- Ответ скрыт (grid-template-rows: 0fr)

**ARIA:** `aria-expanded="false"`

#### Открыт (.faq-subitem.active)

**Визуал:**
- Фон всего блока: серый (#F3F4F6)
- Кнопка: прозрачный фон
- Иконка: серая (#F3F4F6), стрелка повернута на 180°

**Поведение:**
- Ответ виден (grid-template-rows: 1fr)

**ARIA:** `aria-expanded="true"`

## Анимации

### Раскрытие/закрытие ответов

- **Технология:** CSS Grid (grid-template-rows)
- **Длительность:** 0.3s
- **Easing:** ease-in-out
- **Эффект:** Плавное раскрытие/закрытие с сохранением высоты

### Раскрытие подвопросов

- **Технология:** opacity + max-height
- **Длительность:** 0.3s
- **Easing:** ease-in-out
- **Эффект:** Плавное появление контейнера подвопросов

### Вращение иконки

- **Технология:** CSS Transform (rotate)
- **Длительность:** 0.3s
- **Easing:** ease
- **Эффект:** Поворот стрелки на 180° при открытии

### Появление текста

- **Технология:** CSS Animation (fadeIn)
- **Длительность:** 0.3s
- **Easing:** ease
- **Эффект:** Плавное появление текста ответа

## Интерактивность

### Управление с клавиатуры

- **Enter** - открыть/закрыть вопрос
- **Space** - открыть/закрыть вопрос
- **Tab** - навигация между элементами

### Управление мышью/тач

- **Click** - открыть/закрыть вопрос
- **Hover** - визуальная обратная связь (только Desktop)

### Множественное открытие

- Поддерживается одновременное открытие нескольких вопросов
- Каждый вопрос управляется независимо
- Подвопросы также управляются независимо

## Адаптивность

### Desktop

- Динамическая ширина (100% экрана)
- Padding: 40px вертикально, 150px горизонтально
- Высота кнопки: 80px
- Размеры шрифтов: максимальные

### Mobile (≤768px)

- Padding: 24px по периметру
- Высота кнопки: 72px
- Размеры шрифтов: уменьшенные
- Специальные правила для границ

### Small Mobile (≤480px)

- Padding: 24px по периметру
- Минимальные размеры шрифтов
- Оптимизированные отступы

## Доступность

### ARIA атрибуты

- `aria-expanded` - индикация состояния (true/false)
- Семантические HTML элементы (`<button>`, `<section>`)

### Клавиатурная навигация

- Полная поддержка навигации с клавиатуры
- Визуальный фокус на элементах

### Семантическая разметка

- Использование правильных HTML элементов
- Логическая структура документа

---

*Версия спецификации: 1.0*
